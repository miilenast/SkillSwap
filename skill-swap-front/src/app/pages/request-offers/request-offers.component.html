<div class="offersContainer">
  <h2>Ponude za zahtev: {{ request?.title }} ({{ request?.description }})</h2>

  <div *ngIf="offers.length === 0" class="noOffers">
    <h4>Trenutno nema ponuda.</h4>
  </div>

  <div class="offersTable" *ngIf="offers.length > 0">
    <div class="tableHeader">
      <div class="column">Korisnik</div>
      <div class="column">Ponuda</div>
      <div class="column">Zauzvrat</div>
      <div class="column">Status</div>
      <div class="column">Akcija</div>
    </div>

    <div class="tableRow" *ngFor="let offer of offers">
      <div class="column">
        <span 
            class="username-link" 
            (click)="viewProfile(offer.offerer.id)">
            {{ '@' + offer.offerer.username }}
          </span>
      </div>
      <div class="column">{{ offer.offeredSkill.title }} - {{ offer.offeredSkill.description }}</div>
      <div class="column">{{ offer.requestedSkill.title }} - {{ offer.requestedSkill.description }}</div>
      <div class="column">{{ offer.status }}</div>
      <div class="column">
        <ng-container [ngSwitch]="offer.status">
          <ng-container *ngSwitchCase="SwapOfferStatus.PENDING">
              <button (click)="acceptOffer(offer)" class="accept-btn">Prihvati</button>
              <button (click)="handleRejectOffer(offer)" class="reject-btn">Odbij</button>
          </ng-container>

          <ng-container *ngSwitchCase="SwapOfferStatus.ACCEPTED">
              <button 
                (click)="showContactInfo(offer)" 
                class="contact-btn">
                Kontaktiraj / Zavr≈°i
              </button>
          </ng-container>

          <span *ngSwitchCase="SwapOfferStatus.REJECTED" class="rejected-status"></span>

          <span *ngSwitchCase="SwapOfferStatus.DONE" class="completed-status"></span>
          
          <span *ngSwitchDefault>Status: {{ offer.status }}</span>
        </ng-container>
      </div>
    </div>
  </div>
</div>
